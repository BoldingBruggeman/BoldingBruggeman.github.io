<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Enable UVicESCM to use FABM bio-geochemical models">
    <meta name="author" content="Karsten Bolding,
Nicolas Schnedler-Meyer and
Jorn Bruggeman" >
    <link rel="icon" href="../favicon.png">

    <title>uvic_fabm &ndash; FABM in UVic</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">FABM in UVic </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="sourcefile/fabm.f.html">Source File</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>uvic_fabm
      <small>Module</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">
            <li class="list-inline-item" id="meta-license"><i class="fa fa-legal"></i> <a rel="license" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html">GNU Free Documentation License</a></li>

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip"
                 data-bs-placement="bottom" data-html="true"
                 title="100.0% of total for modules and submodules.">551 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/fabm.F"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/fabm.f.html'>fabm.F</a></li>
            <li class="breadcrumb-item active" aria-current="page">uvic_fabm</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    $(function () {
    $('[data-bs-toggle="tooltip"]').tooltip()
    })
  </script>

  </div>

  <div class="row">
    <div class="col-md-3">
        <div id="sidebar">
      <h3>Contents</h3>
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#vars-0"
         aria-expanded="false" aria-controls="vars-0">
         <h4 class="card-header bg-primary text-white">Variables</h4>
      </a>
      <div id="vars-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-model">model</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-dz">dz</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_density">id_density</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-rho_fabm">rho_fabm</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-depth">depth</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_downwelling_photosynthetic_radiative_flux">id_downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-downwelling_photosynthetic_radiative_flux">downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_practical_salinity">id_practical_salinity</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-salt">salt</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_pressure">id_pressure</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-pressure">pressure</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_mole_fraction_of_carbon_dioxide_in_air">id_mole_fraction_of_carbon_dioxide_in_air</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-mole_fraction_of_carbon_dioxide_in_air">mole_fraction_of_carbon_dioxide_in_air</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_surface_downwelling_photosynthetic_radiative_flux">id_surface_downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-surface_downwelling_photosynthetic_radiative_flux">surface_downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_surface_swr_flux">id_surface_swr_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-surface_swr_flux">surface_swr_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_windspeed">id_windspeed</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-windspeed">windspeed</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-id_bottom_stress">id_bottom_stress</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-bottom_stress">bottom_stress</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-pelagic_sms">pelagic_sms</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-surface_flux">surface_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-surface_sms">surface_sms</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-bottom_flux">bottom_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-bottom_sms">bottom_sms</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-w">w</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-tai_fabm">tai_fabm</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-nsurface">nsurface</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-npelagic">npelagic</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-nbottom">nbottom</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-repair">repair</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-valid_pel">valid_pel</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-valid_surf">valid_surf</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#variable-valid_bott">valid_bott</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  
  
  
  
      <div class="card mb-4">
      <a data-bs-toggle="collapse" href="#subs-0"
         aria-expanded="false" aria-controls="subs-0">
         <h4 class="card-header bg-primary text-white">Subroutines</h4>
      </a>
      <div id="subs-0" class="collapse">
        <div class="list-group list-group-flush">
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_configure">fabm_configure</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-rowi_fabm">rowi_fabm</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_rest_in">fabm_rest_in</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_rest_def">fabm_rest_def</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_rest_out">fabm_rest_out</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-ta_fabm_tsi">ta_fabm_tsi</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_tsi_def">fabm_tsi_def</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_tsi_out">fabm_tsi_out</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_tavg_def_4d">fabm_tavg_def_4d</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_tavg_out_4d">fabm_tavg_out_4d</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_link_data">fabm_link_data</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_initialize_state">fabm_initialize_state</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_list">fabm_list</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_update">fabm_update</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-fabm_clean">fabm_clean</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_data">update_data</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_grid">link_grid</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_wind">link_wind</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_wind">update_wind</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_mole_fraction_of_carbon_dioxide_in_air">link_mole_fraction_of_carbon_dioxide_in_air</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_mole_fraction_of_carbon_dioxide_in_air">update_mole_fraction_of_carbon_dioxide_in_air</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_surface_swr_flux">link_surface_swr_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_surface_swr_flux">update_surface_swr_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_bottom_stress">link_bottom_stress</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_bottom_stress">update_bottom_stress</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_downwelling_photosynthetic_radiative_flux">link_downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_downwelling_photosynthetic_radiative_flux">update_downwelling_photosynthetic_radiative_flux</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_salinity">link_salinity</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_salinity">update_salinity</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-link_density">link_density</a>
            <a class="list-group-item" href="../module/uvic_fabm.html#proc-update_density">update_density</a>
        </div>
      </div>
    </div>

  
  
  
  
  
  
  


  </div>

    </div>

    <div class="col-md-9" id='text'>
      <p>Copyright (C) 2024 Bolding &amp; Bruggeman</p>
<div class="alert alert-warning">
<p class="alert-title h4">Warning</p>
<p>This module is still under development.
API and functioning might change without notice.</p>
</div>
<div class="alert alert-history">
<p class="alert-title h4">History</p>
<p>A list of important UVic (MOM2) variables used by FABM:</p>
<ul>
<li>
<script type="math/tex">t(imt,km,jmt,nt,-1:1)</script> - all tracers [source/mom/mw.h] -
[T,S] = [1,2]</li>
<li>
<script type="math/tex">src(imt,km,jsmw:jemw,nsrc)</script>: tracers with sources [source/mom/tracer.f]</li>
<li>
<script type="math/tex">sbc(imt,jmt,numsbc)</script> surface boundary conditions [source/common/csbc.h]</li>
<li>
<script type="math/tex">rho(imt,km,jsmw:jmw)</script>:  density [source/mom/mw.h]</li>
</ul>
<p>with</p>
<ul>
<li>
<script type="math/tex">(imt,km,jmt) = (102,19,102)</script> [commom/size.h]</li>
<li>
<script type="math/tex">nt = 2+??</script> number of tracers [commom/size.h]</li>
<li>
<script type="math/tex">jsmw:jemw = (2, jmw=jmt) or (2, jmw=(3,4,5)</script> [commom/size.h]</li>
<li>
<script type="math/tex">nsrc</script>: number of tracers with source terms [common/size.h]</li>
<li>
<script type="math/tex">numsbc</script>: total number of surface boundary conditions -
  list in [common/csbc.h] set in [common/UVic_ESCM.F].</li>
</ul>
<p>Updating FABM is done in the tracer() subroutine called like:</p>
<ul>
<li>
<script type="math/tex">call\ tracer (joff, jstrac, jetrac, is, ie)</script>
with
<script type="math/tex">(joff, jstrac, jetrac, is, ie) = (0,2,101,2,101)</script>
</li>
</ul>
<p>The arguments to tracer() are passed directly to fabm_update(). Note
that potentially jstrac:jetrac does not cover the entire domain.
Focus - initially - will be on getting it to work with !O_min_window
i.e. the entire domain calculated in one go.</p>
</div>
<div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>The FABM calculation domain in UVic reference is
<script type="math/tex"> t(2:imt-1,km,2:jmt-1,3:nt) </script>
</p>
<p>Is it best to allocate arrays correspondingly or do the mapping
in the do-loops?</p>
</div>
<div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>Dimension of z, dz and pressure in a z-coordinate model?
Option to be 1D?</p>
</div>
<div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>What are the proper links to FABM modules?</p>
</div>
<div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>Is there a way to check if a FABM pelagic variable has source terms?</p>
<p>With UVic model all tracer variables - except T, S and CFC gases.
All respecting #ifdefs.</p>
</div>
<p>Some native UVic_ESCM variables will have to be converted to be compatible with FABM.
This can either be because of different dimensionality or different units.
This is done by creating module level private variables that will be calculated/updated
based on the original UVic_ECSM variables. Some will only need to be calculated once - like
layer heights - and some will have to be updated every time step - like density.</p>
<br>          <div class="card mb-4">
      <h3 class="card-header card-title bg-light">Uses</h3>
      <div class="card-body">
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <ul class="list-inline">
                  <li class="list-inline-item"><a href='https://github.com/fabm-model/fabm/blob/master/src/fabm.F90'>fabm</a></li>
                  <li class="list-inline-item">uvic_common_blocks</li>
                  <li class="list-inline-item"><a href='https://github.com/fabm-model/fabm/blob/master/src/fabm_types.F90'>fabm_types</a></li>
                  <li class="list-inline-item"><a href='https://github.com/fabm-model/fabm/blob/master/src/fabm_debug.F90'>fabm_debug</a></li>
              </ul>
            </li>
            <li class="list-group-item">
              <div class="depgraph"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: module~~uvic_fabm~~UsesGraph Pages: 1 -->
<svg id="moduleuvic_fabmUsesGraph" width="237pt" height="158pt"
 viewBox="0.00 0.00 237.00 158.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="module~~uvic_fabm~~UsesGraph" class="graph" transform="scale(1 1) rotate(0) translate(4 154)">
<title>module~~uvic_fabm~~UsesGraph</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-154 233,-154 233,4 -4,4"/>
<!-- module~uvic_fabm -->
<g id="module~~uvic_fabm~~UsesGraph_node1" class="node">
<title>module~uvic_fabm</title>
<polygon fill="none" stroke="black" points="229,-87 162,-87 162,-63 229,-63 229,-87"/>
<text text-anchor="middle" x="195.5" y="-72.6" font-family="Helvetica,sans-Serif" font-size="10.50">uvic_fabm</text>
</g>
<!-- fabm -->
<g id="module~~uvic_fabm~~UsesGraph_node2" class="node">
<title>fabm</title>
<polygon fill="#337ab7" stroke="#337ab7" points="90,-150 36,-150 36,-126 90,-126 90,-150"/>
<text text-anchor="middle" x="63" y="-135.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">fabm</text>
</g>
<!-- module~uvic_fabm&#45;&gt;fabm -->
<g id="module~~uvic_fabm~~UsesGraph_edge1" class="edge">
<title>module~uvic_fabm&#45;&gt;fabm</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M177.08,-87.19C163.59,-96.25 144.19,-108.47 126,-117 117.7,-120.89 108.48,-124.41 99.74,-127.41"/>
<polygon fill="#000000" stroke="#000000" points="98.55,-124.12 90.15,-130.57 100.74,-130.77 98.55,-124.12"/>
</g>
<!-- fabm_debug -->
<g id="module~~uvic_fabm~~UsesGraph_node3" class="node">
<title>fabm_debug</title>
<polygon fill="#337ab7" stroke="#337ab7" points="102.5,-108 23.5,-108 23.5,-84 102.5,-84 102.5,-108"/>
<text text-anchor="middle" x="63" y="-93.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">fabm_debug</text>
</g>
<!-- module~uvic_fabm&#45;&gt;fabm_debug -->
<g id="module~~uvic_fabm~~UsesGraph_edge2" class="edge">
<title>module~uvic_fabm&#45;&gt;fabm_debug</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M161.91,-80.25C147.03,-82.64 129.09,-85.53 112.66,-88.17"/>
<polygon fill="#000000" stroke="#000000" points="111.99,-84.73 102.67,-89.78 113.1,-91.64 111.99,-84.73"/>
</g>
<!-- fabm_types -->
<g id="module~~uvic_fabm~~UsesGraph_node4" class="node">
<title>fabm_types</title>
<polygon fill="#337ab7" stroke="#337ab7" points="100,-66 26,-66 26,-42 100,-42 100,-66"/>
<text text-anchor="middle" x="63" y="-51.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">fabm_types</text>
</g>
<!-- module~uvic_fabm&#45;&gt;fabm_types -->
<g id="module~~uvic_fabm~~UsesGraph_edge3" class="edge">
<title>module~uvic_fabm&#45;&gt;fabm_types</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M161.91,-69.75C146.4,-67.26 127.58,-64.23 110.6,-61.5"/>
<polygon fill="#000000" stroke="#000000" points="110.74,-57.98 100.31,-59.84 109.63,-64.89 110.74,-57.98"/>
</g>
<!-- uvic_common_blocks -->
<g id="module~~uvic_fabm~~UsesGraph_node5" class="node">
<title>uvic_common_blocks</title>
<polygon fill="#337ab7" stroke="#337ab7" points="126,-24 0,-24 0,0 126,0 126,-24"/>
<text text-anchor="middle" x="63" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">uvic_common_blocks</text>
</g>
<!-- module~uvic_fabm&#45;&gt;uvic_common_blocks -->
<g id="module~~uvic_fabm~~UsesGraph_edge4" class="edge">
<title>module~uvic_fabm&#45;&gt;uvic_common_blocks</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M177.08,-62.81C163.59,-53.75 144.19,-41.53 126,-33 121.95,-31.1 117.69,-29.29 113.37,-27.59"/>
<polygon fill="#000000" stroke="#000000" points="114.47,-24.27 103.88,-24.04 112.02,-30.82 114.47,-24.27"/>
</g>
</g>
</svg>
</div>          <div>
            <a type="button" class="graph-help" data-bs-toggle="modal" href="#UsesGraph-help-text">Help</a>
          </div>
          <div class="modal fade" id="UsesGraph-help-text" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title" id="-graph-help-label">Graph Key</h4>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
<p>Nodes of different colours represent the following: </p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Graph Key Pages: 1 -->
<svg width="516pt" height="32pt"
 viewBox="0.00 0.00 516.00 32.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 28)">
<title>Graph Key</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-28 512,-28 512,4 -4,4"/>
<!-- Module -->
<g id="node1" class="node">
<title>Module</title>
<polygon fill="#337ab7" stroke="#337ab7" points="54,-24 0,-24 0,0 54,0 54,-24"/>
<text text-anchor="middle" x="27" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">Module</text>
</g>
<!-- Submodule -->
<g id="node2" class="node">
<title>Submodule</title>
<polygon fill="#5bc0de" stroke="#5bc0de" points="145.5,-24 72.5,-24 72.5,0 145.5,0 145.5,-24"/>
<text text-anchor="middle" x="109" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">Submodule</text>
</g>
<!-- Subroutine -->
<g id="node3" class="node">
<title>Subroutine</title>
<polygon fill="#d9534f" stroke="#d9534f" points="234,-24 164,-24 164,0 234,0 234,-24"/>
<text text-anchor="middle" x="199" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">Subroutine</text>
</g>
<!-- Function -->
<g id="node4" class="node">
<title>Function</title>
<polygon fill="#d94e8f" stroke="#d94e8f" points="310,-24 252,-24 252,0 310,0 310,-24"/>
<text text-anchor="middle" x="281" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">Function</text>
</g>
<!-- Program -->
<g id="node5" class="node">
<title>Program</title>
<polygon fill="#f0ad4e" stroke="#f0ad4e" points="385.5,-24 328.5,-24 328.5,0 385.5,0 385.5,-24"/>
<text text-anchor="middle" x="357" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50" fill="white">Program</text>
</g>
<!-- This Page&#39;s Entity -->
<g id="node6" class="node">
<title>This Page&#39;s Entity</title>
<polygon fill="none" stroke="black" points="508,-24 404,-24 404,0 508,0 508,-24"/>
<text text-anchor="middle" x="456" y="-9.6" font-family="Helvetica,sans-Serif" font-size="10.50">This Page&#39;s Entity</text>
</g>
</g>
</svg>

<p>Solid arrows point from a submodule to the (sub)module which it is
descended from. Dashed arrows point from a module or program unit to 
modules which it uses.
</p>
 </div>
            </div>
          </div>
        </div>
            </li>
        </ul>
      </div>
    </div>

      
      <br>


        <section>
          <h2>Variables</h2>
            <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Visibility</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
<th></th><th scope="col">Initial</th>        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-model"></span>
              class(type_fabm_model),
            </td>
              <td>private,</td>
            <td>
              pointer
            </td>
            <td>::</td>
            <td><strong>model</strong></td>
                <td></td>
                <td></td>
            <td>
                <p>This variable will contain all FABM configuration and
give access to FABM routines</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-dz"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>dz</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_density"></span>
              type(type_fabm_interior_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_density</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-rho_fabm"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>rho_fabm</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-depth"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>depth</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_downwelling_photosynthetic_radiative_flux"></span>
              type(type_fabm_interior_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_downwelling_photosynthetic_radiative_flux</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-downwelling_photosynthetic_radiative_flux"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>downwelling_photosynthetic_radiative_flux</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_practical_salinity"></span>
              type(type_fabm_interior_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_practical_salinity</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-salt"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>salt</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_pressure"></span>
              type(type_fabm_interior_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_pressure</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-pressure"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>pressure</strong>(:,:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_mole_fraction_of_carbon_dioxide_in_air"></span>
              type(type_fabm_horizontal_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_mole_fraction_of_carbon_dioxide_in_air</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-mole_fraction_of_carbon_dioxide_in_air"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>mole_fraction_of_carbon_dioxide_in_air</strong>(:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_surface_downwelling_photosynthetic_radiative_flux"></span>
              type(type_fabm_horizontal_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_surface_downwelling_photosynthetic_radiative_flux</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-surface_downwelling_photosynthetic_radiative_flux"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>surface_downwelling_photosynthetic_radiative_flux</strong>(:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_surface_swr_flux"></span>
              type(type_fabm_horizontal_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_surface_swr_flux</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-surface_swr_flux"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>surface_swr_flux</strong>(:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_windspeed"></span>
              type(type_fabm_horizontal_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_windspeed</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-windspeed"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>windspeed</strong>(:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id_bottom_stress"></span>
              type(type_fabm_horizontal_variable_id),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>id_bottom_stress</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-bottom_stress"></span>
              real(kind=rke),
            </td>
              <td>private,</td>
            <td>
              allocatable, target
            </td>
            <td>::</td>
            <td><strong>bottom_stress</strong>(:,:)</td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-pelagic_sms"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>pelagic_sms</strong>(imt,km,1,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>pelagic source-sink terms in one j-stride</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-surface_flux"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>surface_flux</strong>(imt,jmt,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>surface fluxes</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-surface_sms"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>surface_sms</strong>(imt,jmt,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>surface source-sink terms</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-bottom_flux"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>bottom_flux</strong>(imt,jmt,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>bottom fluxes</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-bottom_sms"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>bottom_sms</strong>(imt,jmt,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>bottom source-sink terms</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-w"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>w</strong>(imt,km,jmt,nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>vertical velocity in m/s</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tai_fabm"></span>
              real(kind=rke),
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>tai_fabm</strong>(nt-2)</td>
                <td></td>
                <td></td>
            <td>
                <p>time averaged variables</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nsurface"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>nsurface</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-npelagic"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>npelagic</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nbottom"></span>
              integer,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>nbottom</strong></td>
                <td></td>
                <td></td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-repair"></span>
              logical,
            </td>
              <td>private,</td>
            <td>
parameter               
            </td>
            <td>::</td>
            <td><strong>repair</strong></td>
<td> =</td>
                <td>.true.</td>
            <td>
                
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-valid_pel"></span>
              logical,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>valid_pel</strong></td>
                <td></td>
                <td></td>
            <td>
                <div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>The variables to hold surface, pelagic and bottom state variabl      !es
comes from mw.h - included in a 1 compilation clause</p>
</div>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-valid_surf"></span>
              logical,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>valid_surf</strong></td>
                <td></td>
                <td></td>
            <td>
                <div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>The variables to hold surface, pelagic and bottom state variabl      !es
comes from mw.h - included in a 1 compilation clause</p>
</div>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-valid_bott"></span>
              logical,
            </td>
              <td>private</td>
            <td>
              
            </td>
            <td>::</td>
            <td><strong>valid_bott</strong></td>
                <td></td>
                <td></td>
            <td>
                <div class="alert alert-info">
<p class="alert-title h4">Note</p>
<p>The variables to hold surface, pelagic and bottom state variabl      !es
comes from mw.h - included in a 1 compilation clause</p>
</div>
            </td>
        </tr>
    </tbody>
  </table>

        </section>
        <br>






        <section>
          <h2>Subroutines</h2>
              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_configure"></span> <h3>public  subroutine <a href='../proc/fabm_configure.html'>fabm_configure</a>(dt, yaml_file)  
</h3></div>
    <div class="card-body">
          
  <p>read fabm.yaml and call FABM configuration subroutines</p><a href="../proc/fabm_configure.html" class="pull-right"><emph>Read more&hellip;</emph></a>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-dt"></span>
              real(kind=rke),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>dt</strong></td>
            <td>
<p>bio-geochemical time step as set by MOM2 [s]</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-yaml_file"></span>
              character(len=*),
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>yaml_file</strong></td>
            <td>
<p>name of alternativ FABM configuration file</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-rowi_fabm"></span> <h3>private  subroutine <a href='../proc/rowi_fabm.html'>rowi_fabm</a>()  
</h3></div>
    <div class="card-body">
          
  <p>this is done in fabm_initialize_state() - but check !!KB
setmom.F - if (.not. init) then - around line 299</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_rest_in"></span> <h3>public  subroutine <a href='../proc/fabm_rest_in.html'>fabm_rest_in</a>(iou, ln, ib, ic, tmpik, ils, ile, kls, kle, tau)  
</h3></div>
    <div class="card-body">
          
  <p>reading FABM restart variables from NetCDF</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ln"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ln</strong></td>
            <td>
<p>data length</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ib"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ib</strong>(:)</td>
            <td>
<p>array of start indices</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ic"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ic</strong>(:)</td>
            <td>
<p>array of counts</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tmpik"></span>
              real,
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tmpik</strong>(ils:ile,kls:kle)</td>
            <td>
<p>array for present data slice</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ils"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ils</strong></td>
            <td>
<p>start index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ile"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ile</strong></td>
            <td>
<p>end index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kls"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kls</strong></td>
            <td>
<p>start index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kle"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kle</strong></td>
            <td>
<p>end index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tau"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tau</strong></td>
            <td>
<p>time index - -1:1</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_rest_def"></span> <h3>public  subroutine <a href='../proc/fabm_rest_def.html'>fabm_rest_def</a>(iou, it)  
</h3></div>
    <div class="card-body">
          
  <p>define FABM restart variables in NetCDF context</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-it"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>it</strong>(:)</td>
            <td>
<p>time dimension</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_rest_out"></span> <h3>public  subroutine <a href='../proc/fabm_rest_out.html'>fabm_rest_out</a>(iou, ln, ib, ic, tmpik, ils, ile, kls, kle, tau)  
</h3></div>
    <div class="card-body">
          
  <p>save 4D data to the NetCDF file given by iou</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ln~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ln</strong></td>
            <td>
<p>data length</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ib~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ib</strong>(:)</td>
            <td>
<p>array of start indices</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ic~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ic</strong>(:)</td>
            <td>
<p>array of counts</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tmpik~2"></span>
              real,
            </td>
<td>intent(inout)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tmpik</strong>(ils:ile,kls:kle)</td>
            <td>
<p>mask array for present data slice</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ils~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ils</strong></td>
            <td>
<p>start index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ile~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ile</strong></td>
            <td>
<p>end index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kls~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kls</strong></td>
            <td>
<p>start index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kle~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kle</strong></td>
            <td>
<p>end index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tau~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tau</strong></td>
            <td>
<p>time index - -1:1</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-ta_fabm_tsi"></span> <h3>public  subroutine <a href='../proc/ta_fabm_tsi.html'>ta_fabm_tsi</a>(m, ntatio, tbar)  
</h3></div>
    <div class="card-body">
          
  <p>define FABM variables in NetCDF context</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-m"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>m</strong></td>
            <td>
<p>switch operations</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ntatio"></span>
              integer,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ntatio</strong></td>
            <td>
<p>switch operations</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tbar"></span>
              real,
            </td>
<td>intent(in),</td>
              <td>optional</td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tbar</strong>(:)</td>
            <td>
<p>slice of UVic maintained temporary variable</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_tsi_def"></span> <h3>public  subroutine <a href='../proc/fabm_tsi_def.html'>fabm_tsi_def</a>(iou, id)  
</h3></div>
    <div class="card-body">
          
  <p>define FABM time series variables in NetCDF context</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~4"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-id"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>id</strong>(1)</td>
            <td>
<p>time dimension</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_tsi_out"></span> <h3>public  subroutine <a href='../proc/fabm_tsi_out.html'>fabm_tsi_out</a>(iou, ntrec)  
</h3></div>
    <div class="card-body">
          
  <p>define FABM variables in NetCDF context</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~5"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ntrec"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ntrec</strong></td>
            <td>
<p>time record</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_tavg_def_4d"></span> <h3>public  subroutine <a href='../proc/fabm_tavg_def_4d.html'>fabm_tavg_def_4d</a>(iou, it)  
</h3></div>
    <div class="card-body">
          
  <p>define FABM variables in NetCDF context</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~6"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-it~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>it</strong>(:)</td>
            <td>
<p>array of dimension ids</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_tavg_out_4d"></span> <h3>public  subroutine <a href='../proc/fabm_tavg_out_4d.html'>fabm_tavg_out_4d</a>(iou, ln, ib, ic, tmpijkm, ils, ile, jls, jle, kls, kle, t, ids, ide, jds, jde, km, nt)  
</h3></div>
    <div class="card-body">
          
  <p>save 4D data to the NetCDF file given by iou</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-iou~7"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>iou</strong></td>
            <td>
<p>NetCDF file id</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ln~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ln</strong></td>
            <td>
<p>data length</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ib~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ib</strong>(:)</td>
            <td>
<p>array of start indices</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ic~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ic</strong>(:)</td>
            <td>
<p>array of counts</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-tmpijkm"></span>
              real,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>tmpijkm</strong>(ils:ile,jls:jle,kls:kle)</td>
            <td>
<p>mask array for present data slice</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ils~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ils</strong></td>
            <td>
<p>start index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ile~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ile</strong></td>
            <td>
<p>end index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-jls"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>jls</strong></td>
            <td>
<p>start index - j</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-jle"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>jle</strong></td>
            <td>
<p>end index - j</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kls~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kls</strong></td>
            <td>
<p>start index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-kle~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>kle</strong></td>
            <td>
<p>end index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-t"></span>
              real,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>t</strong>(ids:ide,jds:jde,km,nt)</td>
            <td>
<p>UVic maintained data array slice</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ids"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ids</strong></td>
            <td>
<p>start index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ide"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ide</strong></td>
            <td>
<p>end index - i</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-jds"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>jds</strong></td>
            <td>
<p>start index - j</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-jde"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>jde</strong></td>
            <td>
<p>end index - j</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-km"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>km</strong></td>
            <td>
<p>index - k</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-nt"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>nt</strong></td>
            <td>
<p>number of tracers</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_link_data"></span> <h3>public  subroutine <a href='../proc/fabm_link_data.html'>fabm_link_data</a>()  
</h3></div>
    <div class="card-body">
          
  <p>link all FABM configured external dependencies - and call
model%start() to assure proper configuration</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_initialize_state"></span> <h3>public  subroutine <a href='../proc/fabm_initialize_state.html'>fabm_initialize_state</a>()  
</h3></div>
    <div class="card-body">
          
  <p>the initialization must be split form the linking as the
masks are not yet calculated</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_list"></span> <h3>public  subroutine <a href='../proc/fabm_list.html'>fabm_list</a>()  
</h3></div>
    <div class="card-body">
          
  <p>lists all FABM configured variables</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_update"></span> <h3>public  subroutine <a href='../proc/fabm_update.html'>fabm_update</a>(joff, js, je, is, ie)  
</h3></div>
    <div class="card-body">
          
  <p>update the environment and calculate the source/sink terms -
is called with the same argument list as mom() calls tracer(      !)
i.e. the specification of the active UVic window - typically
the full domain on modern hardware</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-joff"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>joff</strong></td>
            <td>
<p>offset row in global window</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-js"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>js</strong></td>
            <td>
<p>start row</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-je"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>je</strong></td>
            <td>
<p>end row</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-is"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>is</strong></td>
            <td>
<p>start column</p>
            </td>
        </tr>
        <tr>
            <td>
              <span class="anchor" id="variable-ie"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>ie</strong></td>
            <td>
<p>end column</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-fabm_clean"></span> <h3>public  subroutine <a href='../proc/fabm_clean.html'>fabm_clean</a>()  
</h3></div>
    <div class="card-body">
          
  <p>de-allocate all allocated arrays</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_data"></span> <h3>private  subroutine <a href='../proc/update_data.html'>update_data</a>(joff)  
</h3></div>
    <div class="card-body">
          
  <p>update all time varying FABM configured external dependencie      !s
by calling individual update routines - tests done in routin      !es</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-joff~2"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>joff</strong></td>
            <td>
<p>offset row in global window</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_grid"></span> <h3>private  subroutine <a href='../proc/link_grid.html'>link_grid</a>()  
</h3></div>
    <div class="card-body">
          
  <p>Allocate and link grid related FABM standard variables that
are being transformed from UVic native variables [cm -&gt; m].</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_wind"></span> <h3>private  subroutine <a href='../proc/link_wind.html'>link_wind</a>()  
</h3></div>
    <div class="card-body">
          
  <p>get wind speed FABM standard variable and if needed by FABM
allocate memory</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_wind"></span> <h3>private  subroutine <a href='../proc/update_wind.html'>update_wind</a>()  
</h3></div>
    <div class="card-body">
          
  <p>calculate wind speed in m/s according to
<script type="math/tex; mode=display">w = w_{UVic}/100</script>
</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_mole_fraction_of_carbon_dioxide_in_air"></span> <h3>private  subroutine <a href='../proc/link_mole_fraction_of_carbon_dioxide_in_air.html'>link_mole_fraction_of_carbon_dioxide_in_air</a>()  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_mole_fraction_of_carbon_dioxide_in_air"></span> <h3>private  subroutine <a href='../proc/update_mole_fraction_of_carbon_dioxide_in_air.html'>update_mole_fraction_of_carbon_dioxide_in_air</a>()  
</h3></div>
    <div class="card-body">
          
  <p>calculate the ?????? in W/m^2</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_surface_swr_flux"></span> <h3>private  subroutine <a href='../proc/link_surface_swr_flux.html'>link_surface_swr_flux</a>()  
</h3></div>
    <div class="card-body">
          
  

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_surface_swr_flux"></span> <h3>private  subroutine <a href='../proc/update_surface_swr_flux.html'>update_surface_swr_flux</a>()  
</h3></div>
    <div class="card-body">
          
  <p>This calculation of the surface swr uses the flux directly
from the atmospheric model - must be corrected for ice at
some point.</p><a href="../proc/update_surface_swr_flux.html" class="pull-right"><emph>Read more&hellip;</emph></a>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_bottom_stress"></span> <h3>private  subroutine <a href='../proc/link_bottom_stress.html'>link_bottom_stress</a>()  
</h3></div>
    <div class="card-body">
          
  <p>get bottom stress FABM standard variable and if needed by
FABM allocate memory</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_bottom_stress"></span> <h3>private  subroutine <a href='../proc/update_bottom_stress.html'>update_bottom_stress</a>(joff)  
</h3></div>
    <div class="card-body">
          
  <p>calculate the bottom stress in Pa</p>

  <h4>Arguments</h4>
      <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-joff~3"></span>
              integer,
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>joff</strong></td>
            <td>
<p>offset row in global window</p>
            </td>
        </tr>
    </tbody>
  </table>


    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_downwelling_photosynthetic_radiative_flux"></span> <h3>private  subroutine <a href='../proc/link_downwelling_photosynthetic_radiative_flux.html'>link_downwelling_photosynthetic_radiative_flux</a>()  
</h3></div>
    <div class="card-body">
          
  <p>get salinity FABM standard variable and if needed by FABM
allocate memory</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_downwelling_photosynthetic_radiative_flux"></span> <h3>private  subroutine <a href='../proc/update_downwelling_photosynthetic_radiative_flux.html'>update_downwelling_photosynthetic_radiative_flux</a>()  
</h3></div>
    <div class="card-body">
          
  <p>calculate salinity in PSU according to <script type="math/tex; mode=display">S = 35 + 1000*S_{UV      !ic}</script>
</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_salinity"></span> <h3>private  subroutine <a href='../proc/link_salinity.html'>link_salinity</a>()  
</h3></div>
    <div class="card-body">
          
  <p>get salinity FABM standard variable and if needed by FABM
allocate memory</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_salinity"></span> <h3>private  subroutine <a href='../proc/update_salinity.html'>update_salinity</a>()  
</h3></div>
    <div class="card-body">
          
  <p>calculate salinity in PSU according to <script type="math/tex; mode=display">S = 35 +
1000*S_{UVic}</script>
</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-link_density"></span> <h3>private  subroutine <a href='../proc/link_density.html'>link_density</a>()  
</h3></div>
    <div class="card-body">
          
  <p>get density FABM standard variable and if needed by FABM
allocate  memory</p>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

              <div class="card">
    <div class="card-header codesum"><span class="anchor" id="proc-update_density"></span> <h3>private  subroutine <a href='../proc/update_density.html'>update_density</a>()  
</h3></div>
    <div class="card-body">
          
  <p>calculate density in kg/m³ according to
<script type="math/tex; mode=display">\rho = 1000*(\rho_0 + \rho_{UVic})</script>
with <script type="math/tex">\rho_0 = 1.035</script>. MUST match rho0 from UVic_ESCM.F90</p><a href="../proc/update_density.html" class="pull-right"><emph>Read more&hellip;</emph></a>

  <h4>Arguments</h4>
    <em>None</em>

    </div>
  </div>

        </section>
        <br>



    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col"><p>FABM in UVic was developed by Karsten Bolding,
Nicolas Schnedler-Meyer and
Jorn Bruggeman<br>&copy; 2024 <a rel="license" href="http://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html">GNU Free Documentation License</a>
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>